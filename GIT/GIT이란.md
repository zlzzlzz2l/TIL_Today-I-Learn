# GIT

대표적인 버전 관리 시스템

**GIT의 목적**

1. 버전관리
2. 백업
3. 협업

**commit**

`버전 생성한다`는 느낌으로 알고 있자!

**push**

내 컴퓨터에서 원격 컴퓨터로 밀어 넣기

**pull**

원격 저장소에서 내 컴퓨터로 끌어 오기

---

### 버전 관리

**git init (폴더명)**

git에게 해당 폴더를 버전관리 하기 시작하라고 쓰는 명령어

버전 정보들이 `.git`이라는 폴더에 저장된다.

**버전 관리 위치**

파일을 변경했을 때, 그 변경 사항을 버전으로 만들어서 관리한다. 아래의 공간을 옮겨다니며 버전 관리를 한다.

![image](https://user-images.githubusercontent.com/48669011/133395536-be03df3b-29ec-4911-8e48-f60db9311f00.png)

- repository: 버전이 저장되는 곳 (.git 폴더라고 봐도 된다.)
- staging area: 버전을 만들려고 하는 곳
- working tree: 파일을 수정하는 곳

---

### 명령어

**git status**

파일을 생성하거나 수정했을 때, 깃은 사용자에게 버전 관리를 할 수 있는 파일들을 `working tree`에 올려둔다.

상태를 볼 수 있는 명령어이다.

**git add <파일명 | . (전체 파일)>**

위 명령어를 실행하게 되면 `working tree`에 있는 파일들을 `staging area`에 올린다. `staging area`에 올린 것은 버전 관리를 할 준비가 되었다는 신호이기도 하다.

**git commit**

버전을 만드는 명령어이다. 보통은 `git commit -m "커밋명"`을 입력하여 커밋명에 변경된 내용을 적는 게 일반적이다.

**git log**

버전을 확인할 수 있는 명령어이다.

- git log —stat : 파일별로 버전을 확인할 수 있는 명령어
- git log -p : 새로 업데이트할 버전에 대한 내용을 보여주는 명령어, 최종 점검할 때 많이 쓰인다.

**git diff**

구버전과 버전 업데이트간의 코드 차이점을 보여주는 명령어이다.

---

### 삭제와 되돌리기

일단 삭제와 되돌리기를 들어가기 전에, 깃을 처음 다루는 입장에서는 `master`브랜치가 최신 버전이라고 생각하면 좋을 거 같다.

`git log`로 이전 커밋 로그들을 보면 `HEAD`가 가리키는 곳이 지금 현재 깃이 가리키고 있는 버전이다. `HEAD`가 이전 버전을 가르키게 하면 이전 버전으로 되돌릴 수 있다. 단, **이전 버전으로 되돌렸다고 해서 최신 버전이 삭제된 것은 아니다.**

**git checkout <이전 버전 커밋 ID>**

위 명령어와 같이 이전 버전 커밋 ID를 checkout 해주면 이전 버전으로 되돌아간다. 최신 상태로 돌아가고 싶으면 `git checkout master`을 입력하면 된다.

**git reset —hard <이전 버전 커밋 ID>**

위 명령어는 삭제하는 명령어인데, 삭제할 커밋 ID를 입력하는 게 아니라 커밋 ID 버전으로 돌아가겠냐는 의미이다. 위에서 —hard는 가장 강력하게 지우는 방법이다. 공유되기 전에 reset 시키는 게 충돌이 발생하지 않는다. (복잡하게 꼬일 수도 있다.)

**git revert <커밋 ID>**

되돌아갈 커밋 ID를 입력하면 된다. 단, 입력할 때 이전보다 더 이전버전으로 이동할 경우에는 차례대로 찾아가야 충돌이 안난다.

최신 버전 커밋명 : 1234

이전 버전 커밋명 : 2345

더 예전 버전 커밋명: 3456

최신 버전에서 더 예전 버전으로 가고싶을 때, 이전 버전 커밋명(2345)으로 revert를 해준 뒤, 더 예전 버전 커밋명(3456)을 입력해야 더 예전 버전으로 돌아가면서 충돌이 안난다.
