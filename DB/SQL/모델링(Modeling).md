# 모델링(Modeling)

- 프로젝트

  현실 세계의 업무를 컴퓨터 시스템으로 옮겨놓는 일련의 과정

  **대규모 프로그램**을 작성하기 위한 전체 과정

- 소프트웨어 개발 방법론 탄생

  소프트웨어 공학이라고 부르며 분석과 설계 작업을 소홀히 한 소프트웨어 분야의 문제를 해결

- 폭포수 모델(waterfall model)

  폭포가 떨어지듯이 각 단계가 끝나면 다음 단계로 진행한다.

  각 단계가 명확히 구분되어 프로젝트의 진행 단계가 명확하다.

  앞 단계에서 문제가 발생했을 시 되돌아가기 어렵다.

  폭포수 모델에서 가장 핵심적인 단계는 `업무 분석`과 `시스템 설계`이다.

  프로젝트 계획 → 업무 분석 → 시스템 설계 → 프로그램 구현 → 테스트 → 유지 보수

  위 과정에서 `데이터베이스 모델링`은 **분석과 설계 단계**에서 가장 중요한 작업이다.

---

## 데이터베이스 모델링

현실 세계에서 사용되는 작업이나 사물을 DBMS의 데이터베이스 개체로 옮기기 위한 과정이다. 즉, 현실에서 쓰이는 것을 `테이블`로 변경하기 위한 작업이다.

정보 모델링 → 데이터모델링 → DB로 구현

위 과정에서 `정보 모델링`은 현실 세계의 개념들을 ER 다이어그램으로 모델링하는 것이다. `데이터 모델링`은 개념적 모델(ER 다이어그램)을 논리적 모델(관계 데이터 모델)로 생성하는 단계이다. `DB로 구현`은 논리적 모델을 데이터베이스 테이블로 나타낸 것을 의미한다.

- 데이터베이스 생명주기 : 데이터베이스의 생성과 운영에 관련된 특징

  요구사항 수집 및 분석 → 설계 → 구현- >운영 → 감시 및 개선 이 단계가 계속 반복된다.

  `요구사항 수집 및 분석`: 사용자들의 요구사항을 듣고 분석하여 데이터베이스 구축의 범위를 정한다.

  `설계`: 분석된 요구사항을 기초로 주요 개념과 업무 프로세스 등을 식별하고(개념적 설계), 사용하는 DBMS의 종류에 맞게 변환(논리적 설계)한 후, 데이터베이스 스키마를 도출(물리적 설계)한다.

  `구현`: 설계 단계에서 생성한 스키마를 실제 DBMS에 적용하여 테이블 및 관련 객체(뷰, 인덱스 등)를 만든다.

  `운영`: 구현된 데이터베이스를 기반으로 소프트웨어를 구축하여 서비스를 제공한다.

  `감시 및 개선`: 데이터베이스 운영에 따른 시스템의 문제를 관찰하고 데이터베이스 자체의 문제점을 파악하여 개선한다.

- 데이터베이스 모델링 절차

  1. 요구사항 수집 및 분석

     현실 세계의 대상 및 사용자의 요구 등을 정리 및 분석

     - 사용자 식별
     - 데이터베이스 용도 식별
     - 사용자 요구 사항 수집 및 명세

  2. 설계

     2-1. 개념적 모델링

     중요 개념을 구분

     - 핵심 Entity(독립 개체) 도출
     - ERD 작성

     2-2. 논리적 모델링

     각 개념을 구체화

     - ERD-RDB 모델 사상
     - 상세 속성 정의
     - 정규화 등

     2-3. 물리적 모델링

     데이터베이스 생성 계획에 따라 개체, 인덱스 등을 생성

     - DB 개체 정의
     - 테이블 및 인덱스 등 설계

  3. 데이터베이스 구현

요구사항 수집 및 분석

- 요구사항 수집 방법
  1. 실제 문서를 수집하고 분석한다.(기존에 있는 문서들)
  2. 담당자와의 인터뷰나 설문조사를 통해 요구사항을 직접 수렴한다.
  3. 비슷한 업무를 처리하는 기존의 데이터베이스를 분석한다. (레퍼런스)
  4. 각 업무와 연관된 모든 부분을 살펴본다.
- 개념적 모델링

  요구사항을 수집하고 분석한 결과를 토대로 업무의 핵심적인 개념을 구분하고 전체적인 뼈대를 만드는 과정

  개체(Entity)를 추출하고 각 개체들 간의 관계를 정의하여 ER 다이어그램(ERD)을 만드는 과정까지를 말한다.

- 논리적 모델링

  개념적 모델링에서 만든 ERD를 사용하려는 DBMS에 맞게 사상(매핑, mapping)하여 실제 데이터베이스로 구현하기 위한 모델을 만드는 과정

  1. 개념적 모델링에서 추출하지 않았던 상세 속성들을 모두 추출
  2. 정규화 수행
  3. 데이터 표준화 수행

- 물리적 모델링

  작성된 논리적 모델을 실제 컴퓨터의 저장 장치에 저장하기 위한 물리적 구조를 정의하고 구현하는 과정이다.

  DBMS 특성에 맞게 저장 구조를 정의해야 데이터베이스가 최적의 성능을 낼 수 있다.

  <물리적 모델링 시 트랜잭션, 저장 공간 설계 측면에서 고려할 사항>

  1. 응답시간을 최소화해야 한다.
  2. 얼마나 많은 트랜잭션을 동시에 발생시킬 수 있는지 검토해야 한다.
  3. 데이터가 저장될 공간을 효율적으로 배치해야 한다.

---

## ER 모델

세상의 사물을 개체(Entity)와 개체 간의 관계(Relationship)로 표현한다.

`개체`: 독립적인 의미를 지니고 있는 유무형의 사람 또는 사물이며 개체의 특성을 나타내는 속성(Attribute)에 의해 식별된다. 또한, 개체끼리 서로 관계를 가진다.

데이터베이스에서 주로 다루는 개체는 낱개로 구성된 것, 낱개가 각각 데이터 값을 가지는 것, 데이터 값이 변하는 것 등이 있다.

비슷한 속성의 개체 타입(Entity type)을 구성하며, 개체 집합(Entity set)으로 묶인다.

`ER 다이어그램`: ER 모델은 개체와 개체 간의 관계를 표준화된 그림으로 나타낸다.

### 개체와 개체 타입

ER 다이어그램상에서 개체 타입은 직사각형으로 나타낸다.

- 개체 타입의 유형

  1. 강한 개체(Strong Entity): 다른 개체의 도움 없이 독자적으로 존재할 수 있는 개체

     강한 개체 타입은 아래와 같이 ER 다이어그램으로 표현한다. (보통 개체 타입이라고 하면 강한 개체 타입이다.)

     ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/bdd58744-544d-489d-8e54-ef46102bfc27/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/bdd58744-544d-489d-8e54-ef46102bfc27/Untitled.png)

  2. 약한 개체(Weak Entity): 독자적으로 존재할 수 없고 반드시 상위 개체 타입을 가진다.

     약한 개체 타입은 아래와 같이 ER 다이어그램으로 표현한다.

     ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/30f1e5b5-5020-4c40-8c2b-0c3b72d1245f/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/30f1e5b5-5020-4c40-8c2b-0c3b72d1245f/Untitled.png)

### 속성

개체가 가진 성질을 말한다.

속성은 기본적으로 타원으로 표현하고, 개체 타입을 나타내는 직사각형과 실선으로 연결된다.

속성의 이름은 타원의 중앙에 표기하고, **속성이 개체를 유일하게 식별할 수 있는 키**일 경우 속성 이름에 **밑줄을 긋는다**.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0a297159-a328-4d17-9763-f4d330ef20be/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0a297159-a328-4d17-9763-f4d330ef20be/Untitled.png)

- 속성의 유형

  ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4882c509-4a0e-4342-8de9-113701b91ad3/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4882c509-4a0e-4342-8de9-113701b91ad3/Untitled.png)

### 관계와 관계 타입

관계(Relationship): 개체 사이의 연관성을 나타내는 개념

관계 타입(Relationship type): 개체 타입과 개체 타입 간의 연결 가능한 관계를 정의한 것이며, 관계 집합(Relation set)은 관계로 연결된 집합을 의미한다.

관계 타입은 아래와 같이 ER 다이어그램으로 표현된다.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7e78f1f2-4a50-4106-8d41-014077df068c/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7e78f1f2-4a50-4106-8d41-014077df068c/Untitled.png)

- 관계 타입의 유형

  - 차수에 따른 유형

    관계 집합에 참가하는 개체 타입의 수를 관계 타입의 차수(Degree)라고 한다.

    1. 1진 관계(Recursive Relationship): 한 개의 개체가 자기 자신과 관계를 맺는 경우
    2. 2진 관계(Binary Relationship): 두 개의 개체가 관계를 맺는 경우
    3. 3진 관계(Ternary Relationship): 세 개의 개체가 관계를 맺는 경우

  - 관계 대응수(Cardinality): 두 개체 타입의 관계에 실제로 참여하는 개별 개체 수를 말한다.

    1. 일대일(1:1) 관계: 좌측 개체 타입에 포함된 개체가 우측 개체 타입에 포함된 개체와 일대일로 대응하는 관계를 말한다.
    2. 일대다(1:N), 다대일(N:1) 관계: 실제 일상생활에서 가장 많이 볼 수 있는 관계로, 한쪽 개체 타입의 개체 하나가 다른 쪽 개체 타입의 여러 개체와 관계를 맺는 것을 말한다.
    3. 다대다(N:M): 각 개체 타입의 개체들이 서로 임의의 개수를 개체들과 서로 복합적인 관계를 맺고 있는 관계를 의미한다.

    관계 대응수 1:1, 1:N, M:N에서 1, N, M은 각 개체가 관계에 참여하는 최댓값을 의미한다.

    최솟값, 최댓값을 관계 실선 위에 (최솟값, 최댓값)으로 표기한다.

    - 관계 대응수에 따른 관계 타입의 유형

      ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fb472b37-e2d0-490a-b1aa-73a4deb7cbb8/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fb472b37-e2d0-490a-b1aa-73a4deb7cbb8/Untitled.png)

- ISA 관계

  상위 개체 타입의 특성에 따라 하위 개체 타입이 결정되는 형태이다.

  개체 간 상하관계 표기를 위해서 아래와 같이 ER 다이어그램에서 표현된다.

  ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9af25e45-ce64-4084-8a2f-3ec8efa6f20c/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9af25e45-ce64-4084-8a2f-3ec8efa6f20c/Untitled.png)

- 참여 제약 조건

  개체 집합 내 모든 개체가 관계에 참여하는지 유무에 따라 전체 참여와 부분 참여로 구분이 가능하다.

  전체 참여: 개체 집합의 모든 개체가 참여한다.

  부분 참여: 일부만 참여한다.

  전체 참여를 (최솟값, 최댓값)으로 표현할 경우 최솟값이 1이상으로 모두 참여한다는 뜻이고, 부분 참여는 최솟값이 0 이상이다.

- 역할

  개체 타입 간의 관계를 표현할 때 각 개체들은 고유한 역할을 담당한다.

- 순환적 관계

  하나의 개체 타입이 동일한 개체 타입(자기 자신)과 순환적으로 관계를 가지는 형태이다.

### 약한 개체 타입과 식별자

약한 개체 타입: 상위 개체 타입이 결정되지 않으면 개별 개체를 식별할 수 없는 종속된 개체 타입

독립적인 키로는 존재할 수 없지만 상위 개체 타입의 키와 결합하여 역한 개체 타입의 개별 개체를 고유하게 식별하는 속성 식별자(Discriminator) 혹은 부분키(Partial key)라고 한다.

- 식별자와 약한 개체 타입

  ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a1127ad4-83ec-4314-9f7f-05cf21e19291/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a1127ad4-83ec-4314-9f7f-05cf21e19291/Untitled.png)

### IE 표기법

ER 다이어그램을 더 축약하여 쉽게 표현하면 Erwin 등 소프트웨어에서 사용 가능하다.

IE(Information Engineering) 표기법에서 개체 타입과 속성은 직사각형으로 표현한다.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/109dfb9b-53c5-46dd-ac5f-682fddd99320/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/109dfb9b-53c5-46dd-ac5f-682fddd99320/Untitled.png)

IE 표기법에서 관계는 실선 혹은 점선으로 표기한다.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/570e92e4-35e6-4f54-ba73-a65a3f555630/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/570e92e4-35e6-4f54-ba73-a65a3f555630/Untitled.png)

IE 표기법에서 관계(강한관계, 비식별자 관계)는 점섬으로 표기한다.
