# 자료구조와 자료형

### 원시값의 메서드

자바스크립트는 원시값(문자열, 숫자 등)을 객체처럼 다룰 수 있다. 일단 원시값은 객체가 아니란 것을 상기시키고 공부해보자.

- 원시값과 객체의 차이점

  `원시값`

  - 원시형 값
  - 종류 : 문자(string), 숫자(number), bigint, 불린(boolean), 심볼(symbol), null, undefined

  `객체`

  - 프로퍼티에 다양한 종류의 값을 저장할 수 있다.
  - `{ }`를 사용해 만들고, 함수도 객체의 일종

객체는 함수를 프로퍼티로 저장 가능

객체는 원시값보다 **무겁고**, 내부 구조를 유지하기 위해 추가 자원을 사용

**원시값을 객체처럼 사용하기**

자바스크립트 창안자가 다음과 같은 모순적인 상황을 해결해야 한다.

- 문자열이나 숫자와 같은 원시값을 다루어야 하는 작업이 많은데, 메서드를 사용하면 작업을 수월하게 할 수 있을 것 같다.
- 원시값은 가능한 빠르고 가벼워야 한다.

위 문제에 대한 해결책은 아래와 같다.

- 원시값은 원시값 그대로 남겨둬 단일 값 형태를 유지
- 문자열, 숫자, 불린, 심볼의 메서드와 프로퍼티에 접근할 수 있도록 언어 차원에서 허용
- 위를 가능하게 하기 위해 원시값이 메서드나 프로퍼티에 접근하려 하면 추가 기능을 제공해주는 특수한 객체, `원시 래퍼 객체(object wrapper)`를 만든다. 이 객체는 삭제된다.

예를 들면 아래와 같다.

```jsx
let str = "ahyun";

alert(str.toUpperCase()); // AHYUN
```

1. 문자열 str은 원시값이므로 원시값의 프로퍼티인 toUpperCase에 접근하는 순간 특별한 객체가 만들어진다.
2. 메서드가 실행되고, 새로운 문자열이 반환된다. (alert)
3. 특별한 객체는 파괴되고, 원시값 str만 남는다.

원시값을 가볍게 유지하면서 메서드를 호출할 수 있다.

---

### 숫자형

자바스크립트는 숫자를 나타내는 두 가지 자료형을 지원한다.

1. 일반적인 숫자는 '배정밀도 부동소수점 숫자'로 알려진 64비트 형식의 IEEE-754에 저장된다.
2. 임의의 길이를 가진 정수는 BigInt 숫자로 나타낼 수 있다. $2^{53}$이상이거나 $-2^{53}$이하일 수 없다는 제약 때문에 BigInt가 만들어졌다.

**숫자를 입력하는 다양한 방법**

10억을 입력해야 할 때, 가장 분명한 방법은 직접 10억을 입력하는 것이다.

```jsx
let num = 100000000;
```

0을 입력하는 게 귀찮던지 위와 같은 방법으로는 잘 이용하지 않는다.

큰 숫자를 나타낼 땐, 예를 들어 10억 `1bn`을 사용하고, 52억일 땐 `5.2bn`을 사용한다.

또한, `e`를 나타내서도 표현한다.

```jsx
let num = 1e9; // 10억, e가 0의 개수라고 생각하면 쉽다.

alert(5.2e9); // 52억
```

1마이크로초(백만 분의 1초)를 표현해보자.

```jsx
let ms = 0.000001;
```

큰 수나 작은 수는 똑같다. 마이크로초도 `e`를 이용해서 표현할 수 있다.

```jsx
let ms = 1e-6; // 1에서 왼쪽으로 6번의 소수점 이동, 쉽게 0이 6개
```

**16진수, 2진수, 8진수**

`16진수`는 색을 나타내거나 문자 인코딩 등 다양한 곳에서 쓰인다. 16진수를 짧게 표현하는 방법도 있다. `0x`를 이용하면 된다.

2진수와 8진수도 짧게 표현할 수 있다.

2진수: `0b`

8진수: `0o`

이 외의 진법을 사용하려면 `parseInt`를 사용해야 한다.

**toString(base)**

num.toString(base) 메서드는 base라는 진법으로 num을 표현한 다음, 이를 문자형으로 반환한다.

base는 2에서 36까지 쓸 수 있는다. 기본값은 10이다.

**isNaN과 isFinite**

두 특수 숫자값을 배웠었다.

`Infinity`와 `-Infinity`: 그 어떤 숫자보다 큰 혹은 작은 특수 숫자 값

`NaN`: 에러를 나타내는 값

위 두 숫자값은 숫자형에 속하지만 정상적인 숫자는 아니기 때문에, 정상적인 숫자와 구분하기 위한 특별한 함수가 존재한다.

- **isNaN(value)**: 인수를 숫자로 변환한 다음 NaN인지 테스트

  `=== NaN`으로 비교하면 되지 않을까 하는데, NaN값은 그 어떤 값과도 같지 않기 때문에 위 함수를 써야 한다.

- **isFinite(value)**: 인수를 숫자로 변환하고 변환된 숫자가 NaN/Infinity/-Infinity가 아닌 경우에 true를 반환

  ```jsx
  alert(isFinite("25")); // true
  alert(isFinite("aaa")); // false, NaN이다.
  alert(isFinite(NaN)); //false, NaN이기 때문
  ```

  보통 문자열이 일반 숫자인지 검증하는 데 사용된다.

  빈 문자열이나 공백만 있는 문자열은 0으로 취급하기 때문에 유의해야 한다.
